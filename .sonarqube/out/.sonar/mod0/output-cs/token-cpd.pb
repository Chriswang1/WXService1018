á
GC:\Users\hanwang\source\repos\WXService\WXService\AQRcodeService.svc.cs
	namespace 	
	WXService
 
{ 
public 

class 
AQRcodeService 
:  !
IAQRcodeService" 1
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
AQRcodeServiceJ X
)X Y
)Y Z
;Z [
public 
Status 
	AddQRcode 
(  
string  &
appid' ,
,, -
string- 3
subcode4 ;
); <
{ 	
Logger 
. 
Debug 
( 
$str L
)L M
;M N
Logger 
. 
Debug 
( 
string 
.  
Format  &
(& '
$str' I
,I J
appidK P
,P Q
subcodeQ X
)X Y
)Y Z
;Z [
try 
{ 
Status 
qrcrcode 
=  !
addqrcommon" -
.- .
Addqrcommondetail. ?
(? @
appid@ E
,E F
subcodeF M
)M N
;N O
return 
qrcrcode 
;  
} 
catch 
( 
	Exception 
ex 
)  
{ 
Status 
status 
= 
new  #
Status$ *
(* +
)+ ,
;, -
Logger 
. 
Error 
( 
$str ;
+< =
ex> @
.@ A

StackTraceA K
)K L
;L M
var 
error 
= 
new 
ServiceError  ,
(, -

BaseConfig- 7
.7 8
ServiceCode8 C
.C D
OTHER_ERRORD O
.O P
ToStringP X
(X Y
)Y Z
,Z [
$str    3
,  3 4
ex  5 7
.  7 8
Message  8 ?
)  ? @
;  @ A
status!! 
.!! 
msg!! 
=!! 
error!! "
.!!" #
ErrorMessage!!# /
;!!/ 0
status"" 
."" 
status"" 
="" 

StatusEnum""  *
.""* +
fail""+ /
.""/ 0
ToString""0 8
(""8 9
)""9 :
;"": ;
return## 
status## 
;## 
throw$$ 
new$$ 
FaultException$$ (
<$$( )
ServiceError$$) 5
>$$5 6
($$6 7
error$$7 <
,$$< =
error$$> C
.$$C D
ErrorMessage$$D P
)$$P Q
;$$Q R
}%% 
}&& 	
}'' 
}(( Ü
BC:\Users\hanwang\source\repos\WXService\WXService\BarcodeCommon.cs
	namespace 	
	WXService
 
{ 
[		 
DataContract		 
]		 
public

 

class

 
BarcodeCommon

 
{ 
[ 	

DataMember	 
] 
public 
string 
SAP_Code 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
string 
Name_chn 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
string 
EAN 
{ 
get 
; 
set  #
;# $
}% &
[ 	

DataMember	 
] 
public 
string 
ProductionDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
[ 	

DataMember	 
] 
public 
string 
ProductCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	

DataMember	 
] 
public 
string 
Lot_No 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	

DataMember	 
] 
public 
string 
SN 
{ 
get 
; 
set  #
;# $
}% &
} 
} ¬
GC:\Users\hanwang\source\repos\WXService\WXService\BarcodeService.svc.cs
	namespace

 	
	WXService


 
{ 
public 

class 
BarcodeService 
:  !
IBarcodeService" 1
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
BarcodeServiceJ X
)X Y
)Y Z
;Z [
public 
List 
< 
BarcodeCommon !
>! "
SelectBarcode# 0
(0 1
List1 5
<5 6
SNCommon6 >
>> ?
SN@ B
)B C
{ 	
Logger 
. 
Debug 
( 
$str J
)J K
;K L
Logger 
. 
Debug 
( 
string 
.  
Format  &
(& '
$str' >
,> ?
SN@ B
)B C
)C D
;D E
try 
{ 
List 
< 
BarcodeCommon "
>" #
barcodeCommon$ 1
=2 3

barcodesql4 >
.> ?
SelectBarcode? L
(L M
SNM O
)O P
;P Q
return 
barcodeCommon $
;$ %
} 
catch 
( 
	Exception 
ex 
)  
{ 
Logger 
. 
Error 
( 
$str 7
+8 9
ex: <
.< =

StackTrace= G
)G H
;H I
throw 
new 
FaultException (
(( )
ex) +
.+ ,
Message, 3
+4 5
ex6 8
.8 9

StackTrace9 C
)C D
;D E
} 
}   	
}!! 
}"" Ù
?C:\Users\hanwang\source\repos\WXService\WXService\BaseConfig.cs
	namespace 	
	WXService
 
{ 
public		 

static		 
class		 

BaseConfig		 "
{

 
public 
enum 
ServiceCode 
{ 	
[ 
Description 
( 
$str &
)& '
]' (
OTHER_ERROR 
= 
$num 
, 
[ 
Description 
( 
$str 0
)0 1
]1 2
ENTITY_DOESNT_FOUND 
=  !
$num" #
,# $
} 	
public 
static 
string 
Description (
(( )
this) -
Enum. 2
en3 5
)5 6
{ 	
var 
type 
= 
en 
. 
GetType !
(! "
)" #
;# $
var 
memInfo 
= 
type 
. 
	GetMember (
(( )
en) +
.+ ,
ToString, 4
(4 5
)5 6
)6 7
;7 8
if 
( 
memInfo 
. 
Length 
>  
$num! "
)" #
{ 
var 
attrs 
= 
memInfo #
[# $
$num$ %
]% &
.& '
GetCustomAttributes' :
(: ;
typeof; A
(A B 
DescriptionAttributeB V
)V W
,W X
falseY ^
)^ _
;_ `
if   
(   
attrs   
.   
Length    
>  ! "
$num  # $
)  $ %
return!! 
(!! 
(!!  
DescriptionAttribute!! 1
)!!1 2
attrs!!2 7
[!!7 8
$num!!8 9
]!!9 :
)!!: ;
.!!; <
Description!!< G
;!!G H
}"" 
return## 
en## 
.## 
ToString## 
(## 
)##  
;##  !
}$$ 	
}'' 
}(( ¨8
CC:\Users\hanwang\source\repos\WXService\WXService\DataAccess\SQL.cs
	namespace		 	
	WXService		
 
.		 

DataAccess		 
{

 
public 

class 
SQL 
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
SQLJ M
)M N
)N O
;O P
private 
static 
string 

connstring (
=) *
string+ 1
.1 2
Empty2 7
;7 8
static 
SQL 
( 
) 
{ 	

connstring 
=  
ConfigurationManager )
.) *
AppSettings* 5
[5 6
$str6 D
]D E
;E F
} 	
public 
static 
Status 
AddWccMemberdetail /
(/ 0
string0 6
appid7 <
,< =
string> D
subcodeE L
,L M
stringN T
customercodeU a
,a b
stringc i
customertypej v
,v w
stringx ~
name	 
,
 
string
 
	telephone
 
,
 
string
 
email
 £
,
£ ¤
string
¥ «
region
¬ ²
,
² ³
string
´ º
province
» Ã
,
Ã Ä
string
Å Ë
city
Ì Ð
,
Ð Ñ
string
Ò Ø
systemaccount
Ù æ
,
æ ç
string
è î
systempassword
ï ý
,
ý þ
string
ÿ 
isAD
 
)
 
{ 	
Status 
wcc 
= 
new 
Status #
(# $
)$ %
;% &
string 

sqlCommand 
= 
$str	  Ü
;
Ü Ý
using 
( 
SqlConnection  

connection! +
=, -
new. 1
SqlConnection2 ?
(? @

connstring@ J
)J K
)K L
{ 
using 
( 

SqlCommand !
command" )
=* +
new, /

SqlCommand0 :
(: ;

sqlCommand; E
,E F

connectionG Q
)Q R
)R S
{ 
Guid 
pk 
= 
Guid "
." #
NewGuid# *
(* +
)+ ,
;, -
command 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 9
,9 :
pk; =
)= >
;> ?
command   
.   

Parameters   &
.  & '
AddWithValue  ' 3
(  3 4
$str  4 <
,  < =
appid  > C
)  C D
;  D E
command!! 
.!! 

Parameters!! &
.!!& '
AddWithValue!!' 3
(!!3 4
$str!!4 >
,!!> ?
subcode!!? F
)!!F G
;!!G H
command"" 
."" 

Parameters"" &
.""& '
AddWithValue""' 3
(""3 4
$str""4 C
,""C D
customercode""E Q
)""Q R
;""R S
command## 
.## 

Parameters## &
.##& '
AddWithValue##' 3
(##3 4
$str##4 C
,##C D
customertype##E Q
)##Q R
;##R S
command$$ 
.$$ 

Parameters$$ &
.$$& '
AddWithValue$$' 3
($$3 4
$str$$4 ;
,$$; <
name$$= A
)$$A B
;$$B C
command%% 
.%% 

Parameters%% &
.%%& '
AddWithValue%%' 3
(%%3 4
$str%%4 @
,%%@ A
	telephone%%B K
)%%K L
;%%L M
command&& 
.&& 

Parameters&& &
.&&& '
AddWithValue&&' 3
(&&3 4
$str&&4 <
,&&< =
email&&> C
)&&C D
;&&D E
command'' 
.'' 

Parameters'' &
.''& '
AddWithValue''' 3
(''3 4
$str''4 =
,''= >
region''? E
)''E F
;''F G
command(( 
.(( 

Parameters(( &
.((& '
AddWithValue((' 3
(((3 4
$str((4 ?
,((? @
province((A I
)((I J
;((J K
command)) 
.)) 

Parameters)) &
.))& '
AddWithValue))' 3
())3 4
$str))4 ;
,)); <
city))= A
)))A B
;))B C
command** 
.** 

Parameters** &
.**& '
AddWithValue**' 3
(**3 4
$str**4 D
,**D E
systemaccount**F S
)**S T
;**T U
command++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 E
,++E F
systempassword++G U
)++U V
;++V W
command,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 ;
,,,; <
isAD,,= A
),,A B
;,,B C

connection-- 
.-- 
Open-- #
(--# $
)--$ %
;--% &
int// 
count// 
=// 
command//  '
.//' (
ExecuteNonQuery//( 7
(//7 8
)//8 9
;//9 :
if00 
(00 
count00 
>00 
$num00 
)00  
{11 
wcc22 
.22 
status22 "
=22# $

StatusEnum22% /
.22/ 0
success220 7
.227 8
ToString228 @
(22@ A
)22A B
;22B C
wcc33 
.33 
msg33 
=33  !
msgEnum33" )
.33) *'
ä¼åä¸­é´è¡¨æå¥æå33* 3
.333 4
ToString334 <
(33< =
)33= >
;33> ?
Logger44 
.44 
Info44 #
(44# $
$str44$ I
)44I J
;44J K
}55 
else66 
{77 
wcc88 
.88 
status88 "
=88# $

StatusEnum88% /
.88/ 0
fail880 4
.884 5
ToString885 =
(88= >
)88> ?
;88? @
wcc99 
.99 
msg99 
=99  !
msgEnum99" )
.99) *'
ä¼åä¸­é´è¡¨æå¥å¤±è´¥99* 3
.993 4
ToString994 <
(99< =
)99= >
;99> ?
Logger:: 
.:: 
Info:: #
(::# $
$str::$ I
)::I J
;::J K
};; 
}LL 
}MM 
returnmm 
wccmm 
;mm 
}nn 	
}oo 
}pp ¨/
LC:\Users\hanwang\source\repos\WXService\WXService\DataAccess\Updatememsql.cs
	namespace		 	
	WXService		
 
.		 

DataAccess		 
{

 
public 

class 
Updatememsql 
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
UpdatememsqlJ V
)V W
)W X
;X Y
private 
static 
string 

connstring (
=) *
string+ 1
.1 2
Empty2 7
;7 8
static 
Updatememsql 
( 
) 
{ 	

connstring 
=  
ConfigurationManager -
.- .
AppSettings. 9
[9 :
$str: H
]H I
;I J
} 	
public 
static 
Status 
Updatememcommon ,
(, -
string- 3
appid4 9
,9 :
string; A
subcodeB I
,I J
stringK Q
nameR V
,V W
stringX ^
	telephone_ h
,h i
stringj p
emailq v
,v w
stringx ~
region	 
,
 
string
 
province
 
,
 
string
 
city
 £
,
£ ¤
string
¥ «
systempassword
¬ º
,
º »
string
¼ Â
isAD
Ã Ç
)
Ç È
{ 	
Status 
wcc 
= 
new 
Status #
(# $
)$ %
;% &
string 

sqlCommand 
= 
$str	  
;
 
using 
( 
SqlConnection  

connection! +
=, -
new. 1
SqlConnection2 ?
(? @

connstring@ J
)J K
)K L
{ 
using 
( 

SqlCommand !
command" )
=* +
new, /

SqlCommand0 :
(: ;

sqlCommand; E
,E F

connectionG Q
)Q R
)R S
{ 
command   
.   

Parameters   &
.  & '
AddWithValue  ' 3
(  3 4
$str  4 <
,  < =
appid  > C
)  C D
;  D E
command!! 
.!! 

Parameters!! &
.!!& '
AddWithValue!!' 3
(!!3 4
$str!!4 >
,!!> ?
subcode!!@ G
)!!G H
;!!H I
command$$ 
.$$ 

Parameters$$ &
.$$& '
AddWithValue$$' 3
($$3 4
$str$$4 ;
,$$; <
name$$= A
)$$A B
;$$B C
command%% 
.%% 

Parameters%% &
.%%& '
AddWithValue%%' 3
(%%3 4
$str%%4 @
,%%@ A
	telephone%%B K
)%%K L
;%%L M
command&& 
.&& 

Parameters&& &
.&&& '
AddWithValue&&' 3
(&&3 4
$str&&4 <
,&&< =
email&&> C
)&&C D
;&&D E
command'' 
.'' 

Parameters'' &
.''& '
AddWithValue''' 3
(''3 4
$str''4 =
,''= >
region''? E
)''E F
;''F G
command(( 
.(( 

Parameters(( &
.((& '
AddWithValue((' 3
(((3 4
$str((4 ?
,((? @
province((A I
)((I J
;((J K
command)) 
.)) 

Parameters)) &
.))& '
AddWithValue))' 3
())3 4
$str))4 ;
,)); <
city))= A
)))A B
;))B C
command++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 E
,++E F
systempassword++G U
)++U V
;++V W
command,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 ;
,,,; <
isAD,,= A
),,A B
;,,B C

connection-- 
.-- 
Open-- #
(--# $
)--$ %
;--% &
int// 
count// 
=// 
command//  '
.//' (
ExecuteNonQuery//( 7
(//7 8
)//8 9
;//9 :
if00 
(00 
count00 
>00 
$num00  !
)00! "
{11 
wcc22 
.22 
status22 "
=22# $

StatusEnum22% /
.22/ 0
success220 7
.227 8
ToString228 @
(22@ A
)22A B
;22B C
wcc33 
.33 
msg33 
=33  !
msgEnum33" )
.33) *
ä¼åä¿®æ¹æå33* 0
.330 1
ToString331 9
(339 :
)33: ;
;33; <
Logger44 
.44 
Info44 #
(44# $
$str44$ I
)44I J
;44J K
}55 
else66 
{77 
wcc88 
.88 
status88 "
=88# $

StatusEnum88% /
.88/ 0
fail880 4
.884 5
ToString885 =
(88= >
)88> ?
;88? @
wcc99 
.99 
msg99 
=99  !
msgEnum99" )
.99) *
ä¼åä¿®æ¹å¤±è´¥99* 0
.990 1
ToString991 9
(999 :
)99: ;
;99; <
Logger:: 
.:: 
Info:: #
(::# $
$str::$ I
)::I J
;::J K
};; 
}LL 
}MM 
returnmm 
wccmm 
;mm 
}nn 	
}oo 
}pp ®
KC:\Users\hanwang\source\repos\WXService\WXService\DataAccess\addqrcommon.cs
	namespace		 	
	WXService		
 
.		 

DataAccess		 
{

 
public 

class 
addqrcommon 
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
SQLJ M
)M N
)N O
;O P
private 
static 
string 

connstring (
=) *
string+ 1
.1 2
Empty2 7
;7 8
static 
addqrcommon 
( 
) 
{ 	

connstring 
=  
ConfigurationManager -
.- .
AppSettings. 9
[9 :
$str: H
]H I
;I J
} 	
public 
static 
Status 
Addqrcommondetail .
(. /
string/ 5
appid6 ;
,; <
string= C
subcodeD K
)K L
{ 	
Status 
qrcommon 
= 
new !
Status" (
(( )
)) *
;* +
string 
sqlCommand1 
=  
$str! u
;u v
using 
( 
SqlConnection  

connection! +
=, -
new. 1
SqlConnection2 ?
(? @

connstring@ J
)J K
)K L
{ 
using 
( 

SqlCommand !
command1" *
=+ ,
new- 0

SqlCommand1 ;
(; <
sqlCommand1< G
,G H

connectionI S
)S T
)T U
{ 
command1 
. 

Parameters '
.' (
AddWithValue( 4
(4 5
$str5 =
,= >
appid? D
)D E
;E F
command1 
. 

Parameters '
.' (
AddWithValue( 4
(4 5
$str5 ?
,? @
subcodeA H
)H I
;I J

connection   
.   
Open   #
(  # $
)  $ %
;  % &
int!! 
count!! 
=!! 
command1!!  (
.!!( )
ExecuteNonQuery!!) 8
(!!8 9
)!!9 :
;!!: ;
if"" 
("" 
count"" 
>"" 
$num""  !
)""! "
{## 
qrcommon$$  
.$$  !
status$$! '
=$$( )

StatusEnum$$* 4
.$$4 5
success$$5 <
.$$< =
ToString$$= E
($$E F
)$$F G
;$$G H
qrcommon%%  
.%%  !
msg%%! $
=%%% &
msgEnum%%' .
.%%. /!
äºç»´ç æå¥æå%%/ 6
.%%6 7
ToString%%7 ?
(%%? @
)%%@ A
;%%A B
Logger&& 
.&& 
Info&& #
(&&# $
$str&&$ J
)&&J K
;&&K L
}'' 
else(( 
{)) 
qrcommon**  
.**  !
status**! '
=**( )

StatusEnum*** 4
.**4 5
fail**5 9
.**9 :
ToString**: B
(**B C
)**C D
;**D E
qrcommon++  
.++  !
msg++! $
=++% &
msgEnum++' .
.++. /!
äºç»´ç æå¥å¤±è´¥++/ 6
.++6 7
ToString++7 ?
(++? @
)++@ A
;++A B
Logger,, 
.,, 
Info,, #
(,,# $
$str,,$ J
),,J K
;,,K L
}-- 
}77 
}88 
return99 
qrcommon99 
;99 
}:: 	
};; 
}<< Ê0
JC:\Users\hanwang\source\repos\WXService\WXService\DataAccess\barcodesql.cs
	namespace

 	
	WXService


 
.

 

DataAccess

 
{ 
public 
class 

barcodesql 
{ 	
private 
readonly 
static #
ILog$ (
Logger) /
=0 1

LogManager2 <
.< =
	GetLogger= F
(F G
typeofG M
(M N

DataAccessN X
.X Y

barcodesqlY c
)c d
)d e
;e f
private 
static 
string !

connstring" ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
static 

barcodesql 
( 
) 
{ 

connstring 
=  
ConfigurationManager 1
.1 2
AppSettings2 =
[= >
$str> M
]M N
;N O
} 
public 
static 
List 
<  
BarcodeCommon  -
>- .
SelectBarcode/ <
(< =
List= A
<A B
SNCommonB J
>J K
SNL N
)N O
{ 
List 
< 
BarcodeCommon "
>" #
barcodeCommonlist$ 5
=6 7
new8 ;
List< @
<@ A
BarcodeCommonA N
>N O
(O P
)P Q
;Q R
BarcodeCommon 
barcodeCommon +
=, -
null. 2
;2 3
for 
( 
int 
i 
= 
$num 
; 
i 
< 
SN  "
." #
Count# (
;( )
i* +
+++ -
)- .
{ 
string 

sqlCommand !
=" #
$str	$ 
;
 
using 
( 
SqlConnection $

connection% /
=0 1
new2 5
SqlConnection6 C
(C D

connstringD N
)N O
)O P
{ 
using 
( 

SqlCommand %
command& -
=. /
new0 3

SqlCommand4 >
(> ?

sqlCommand? I
,I J

connectionK U
)U V
)V W
{ 
SNCommon    
sncommon  ! )
=  * +
SN  , .
[  . /
i  / 0
]  0 1
;  1 2
command"" 
.""  

Parameters""  *
.""* +
AddWithValue""+ 7
(""7 8
$str""8 =
,""= >
sncommon""? G
.""G H
SN""H J
)""J K
;""K L

connection## "
.##" #
Open### '
(##' (
)##( )
;##) *
SqlDataReader$$ %
reader$$& ,
=$$- .
command$$/ 6
.$$6 7
ExecuteReader$$7 D
($$D E
)$$E F
;$$F G
while%% 
(%% 
reader%% %
.%%% &
Read%%& *
(%%* +
)%%+ ,
)%%, -
{&& 
barcodeCommon(( )
=((* +
new((, /
BarcodeCommon((0 =
{)) 
SN++  "
=++# $
reader++% +
[+++ ,
$str++, 0
]++0 1
.++1 2
ToString++2 :
(++: ;
)++; <
as++= ?
string++@ F
,++F G
SAP_Code,,  (
=,,) *
reader,,+ 1
[,,1 2
$str,,2 <
],,< =
.,,= >
ToString,,> F
(,,F G
),,G H
as,,I K
string,,L R
,,,R S
Name_chn--  (
=--) *
reader--+ 1
[--1 2
$str--2 <
]--< =
.--= >
ToString--> F
(--F G
)--G H
as--I K
string--L R
,--R S
EAN..  #
=..$ %
reader..& ,
[.., -
$str..- 2
]..2 3
...3 4
ToString..4 <
(..< =
)..= >
as..? A
string..B H
,..H I
ProductionDate//  .
=/// 0
System//1 7
.//7 8
Convert//8 ?
.//? @

ToDateTime//@ J
(//J K
reader//K Q
[//Q R
$str//R b
]//b c
)//c d
.//d e
ToString//e m
(//m n
$str//n z
)//z {
,//{ |
ProductCode00  +
=00, -
reader00. 4
[004 5
$str005 B
]00B C
.00C D
ToString00D L
(00L M
)00M N
as00O Q
string00R X
,00X Y
Lot_No11  &
=11' (
reader11) /
[11/ 0
$str110 8
]118 9
.119 :
ToString11: B
(11B C
)11C D
as11E G
string11H N
}22 
;22 
Logger55 "
.55" #
Info55# '
(55' (
string55( .
.55. /
Format55/ 5
(555 6
$str	556 
,
55 
barcodeCommon
55 ¥
.
55¥ ¦
SAP_Code
55¦ ®
,
55® ¯
barcodeCommon
55° ½
.
55½ ¾
Name_chn
55¾ Æ
,
55Æ Ç
barcodeCommon
55È Õ
.
55Õ Ö
EAN
55Ö Ù
,
55Ù Ú
barcodeCommon
55Û è
.
55è é
ProductionDate
55é ÷
,
55÷ ø
barcodeCommon
55ù 
.
55 
ProductCode
55 
,
55 
barcodeCommon
55 ¡
.
55¡ ¢
Lot_No
55¢ ¨
)
55¨ ©
)
55© ª
;
55ª «
barcodeCommonlist66 -
.66- .
Add66. 1
(661 2
barcodeCommon662 ?
)66? @
;66@ A
}88 
reader99 
.99 
Close99 $
(99$ %
)99% &
;99& '
}<< 
}?? 
}@@ 
returnBB 
barcodeCommonlistBB $
;BB$ %
}CC 	
}DD 
}EE ìC
IC:\Users\hanwang\source\repos\WXService\WXService\DataAccess\qrcodesql.cs
	namespace 	
	WXService
 
. 

DataAccess 
{ 
public 

class 
	qrcodesql 
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
	qrcodesqlJ S
)S T
)T U
;U V
private 
static 
string 

connstring (
=) *
string+ 1
.1 2
Empty2 7
;7 8
static 
	qrcodesql 
( 
) 
{ 	

connstring 
=  
ConfigurationManager -
.- .
AppSettings. 9
[9 :
$str: H
]H I
;I J
} 	
public 
static 
QRcodeCommon "
SelectQRcode# /
(/ 0
string0 6
appid7 <
,< =
string> D
subcodeE L
)L M
{ 	
QRcodeCommon 
qrcodeCommon %
=& '
null( ,
;, -
string,, 

sqlCommand,, 
=,, 
$str,,  {
;,,{ |
using-- 
(-- 
SqlConnection--  

connection--! +
=--, -
new--. 1
SqlConnection--2 ?
(--? @

connstring--@ J
)--J K
)--K L
{.. 
using// 
(// 

SqlCommand// !
command//" )
=//* +
new//, /

SqlCommand//0 :
(//: ;

sqlCommand//; E
,//E F

connection//G Q
)//Q R
)//R S
{00 
command11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 <
,11< =
appid11> C
)11C D
;11D E
command22 
.22 

Parameters22 &
.22& '
AddWithValue22' 3
(223 4
$str224 >
,22> ?
subcode22@ G
)22G H
;22H I

connection33 
.33 
Open33 #
(33# $
)33$ %
;33% &
SqlDataReader55 !
reader55" (
=55) *
command55+ 2
.552 3
ExecuteReader553 @
(55@ A
)55A B
;55B C
while66 
(66 
reader66 !
.66! "
Read66" &
(66& '
)66' (
)66( )
{77 
qrcodeCommon99 $
=99% &
new99' *
QRcodeCommon99+ 7
{:: 
qcodeurl== $
===% &
string==' -
.==- .
Format==. 4
(==4 5
$str==5 =
,=== > 
ConfigurationManager==> R
.==R S
AppSettings==S ^
[==^ _
$str==_ f
]==f g
,==g h
reader==h n
[==n o
$str==o z
]==z {
.=={ |
ToString	==| 
(
== 
)
== 
as
== 
string
== 
)
== 
,
== 
}@@ 
;@@ 
LoggerAA 
.AA 
InfoAA #
(AA# $
stringAA$ *
.AA* +
FormatAA+ 1
(AA1 2
$strAA2 O
,AAO P
qrcodeCommonAAQ ]
.AA] ^
qcodeurlAA^ f
)AAf g
)AAg h
;AAh i
}CC 
readerDD 
.DD 
CloseDD  
(DD  !
)DD! "
;DD" #
}EE 
}FF 
ifGG 
(GG 
qrcodeCommonGG 
.GG 
qcodeurlGG %
!=GG% ' 
ConfigurationManagerGG( <
.GG< =
AppSettingsGG= H
[GGH I
$strGGI P
]GGP Q
&&GGR T
qrcodeCommonGGU a
.GGa b
qcodeurlGGb j
!=GGk m
$strGGm o
)GGo p
{HH 
qrcodeCommonII 
.II 
msgII  
=II! "
$strII# ,
;II, -
returnJJ 
qrcodeCommonJJ #
;JJ# $
}KK 
elseLL 
ifLL 
(LL 
qrcodeCommonLL !
.LL! "
qcodeurlLL" *
==LL+ - 
ConfigurationManagerLL. B
.LLB C
AppSettingsLLC N
[LLN O
$strLLO V
]LLV W
||LLX Z
qrcodeCommonLL[ g
.LLg h
qcodeurlLLh p
==LLp r
$strLLr t
)LLt u
{MM 
stringNN 
sqlcomNN 
=NN 
$strNN  {
;NN{ |
usingOO 
(OO 
SqlConnectionOO $
conOO% (
=OO) *
newOO+ .
SqlConnectionOO/ <
(OO< =

connstringOO= G
)OOG H
)OOH I
{PP 
usingQQ 
(QQ 

SqlCommandQQ %
commandQQ& -
=QQ. /
newQQ0 3

SqlCommandQQ4 >
(QQ> ?
sqlcomQQ? E
,QQE F
conQQG J
)QQJ K
)QQK L
{RR 
commandSS 
.SS  

ParametersSS  *
.SS* +
AddWithValueSS+ 7
(SS7 8
$strSS8 @
,SS@ A
appidSSB G
)SSG H
;SSH I
commandTT 
.TT  

ParametersTT  *
.TT* +
AddWithValueTT+ 7
(TT7 8
$strTT8 B
,TTB C
subcodeTTD K
)TTK L
;TTL M
conUU 
.UU 
OpenUU  
(UU  !
)UU! "
;UU" #
tryVV 
{WW 
stringXX "
resXX# &
=XX' (
commandXX) 0
.XX0 1
ExecuteScalarXX1 >
(XX> ?
)XX? @
.XX@ A
ToStringXXA I
(XXI J
)XXJ K
;XXK L
ifYY 
(YY  
resYY  #
==YY$ &
$strYY' 8
)YY8 9
{ZZ 
qrcodeCommon[[  ,
.[[, -
qcodeurl[[- 5
=[[6 7
null[[8 <
;[[< =
qrcodeCommon\\  ,
.\\, -
msg\\- 0
=\\1 2
$str\\3 D
;\\D E
}^^ 
else__  
if__! #
(__$ %
res__% (
==__) +
null__, 0
||__1 3
res__4 7
==__8 :
$str__; =
)__= >
{`` 
qrcodeCommonaa  ,
.aa, -
qcodeurlaa- 5
=aa6 7
nullaa8 <
;aa< =
qrcodeCommonbb  ,
.bb, -
msgbb- 0
=bb1 2
$strbb3 >
;bb> ?
}dd 
}ee 
catchff 
(ff 
	Exceptionff (
exff) +
)ff+ ,
{gg 
QRcodeCommonhh (
qrcodecommonhh) 5
=hh6 7
newhh8 ;
QRcodeCommonhh< H
(hhH I
)hhI J
;hhJ K
Loggerii "
.ii" #
Errorii# (
(ii( )
$strii) B
+iiC D
exiiE G
.iiG H

StackTraceiiH R
)iiR S
;iiS T
varjj 
errorjj  %
=jj& '
newjj( +
ServiceErrorjj, 8
(jj8 9

BaseConfigjj9 C
.jjC D
ServiceCodejjD O
.jjO P
OTHER_ERRORjjP [
.jj[ \
ToStringjj\ d
(jjd e
)jje f
,jjf g
$strkk, :
,kk: ;
exkk< >
.kk> ?
Messagekk? F
)kkF G
;kkG H
qrcodecommonll (
.ll( )
msgll) ,
=ll- .
errorll/ 4
.ll4 5
ErrorMessagell5 A
;llA B
ifmm 
(mm  
qrcodecommonmm  ,
.mm, -
msgmm- 0
==mm1 3
$strmm4 k
)mmk l
{nn 
qrcodecommonoo  ,
.oo, -
msgoo- 0
=oo1 2
$stroo3 I
;ooI J
}pp 
qrcodecommonqq (
.qq( )
qcodeurlqq) 1
=qq2 3
nullqq4 8
;qq8 9
returnrr "
qrcodecommonrr# /
;rr/ 0
throwss !
newss" %
FaultExceptionss& 4
<ss4 5
ServiceErrorss5 A
>ssA B
(ssB C
errorssC H
,ssH I
errorssJ O
.ssO P
ErrorMessagessP \
)ss\ ]
;ss] ^
}tt 
}xx 
}yy 
}|| 
return}} 
qrcodeCommon}} 
;}}  
}~~ 	
}
 
} ±B
KC:\Users\hanwang\source\repos\WXService\WXService\DataAccess\templatesql.cs
	namespace

 	
	WXService


 
.

 

DataAccess

 
{ 
public 

class 
templatesql 
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
templatesqlJ U
)U V
)V W
;W X
private 
static 
string 

connstring (
=) *
string+ 1
.1 2
Empty2 7
;7 8
static 
templatesql 
( 
) 
{ 	

connstring 
=  
ConfigurationManager -
.- .
AppSettings. 9
[9 :
$str: H
]H I
;I J
} 	
public 
static 
Status 
AddTemplateDetail .
(. /
string/ 5
appid6 ;
,; <
List< @
<@ A
SubcodeA H
>H I
subcodeJ Q
,Q R
ListS W
<W X

Send_paramX b
>b c

send_paramd n
,n o
stringp v
msg_idw }
,} ~
string	 
template_id
 
,
 
string
 
url
 
,
 
string
 ¥
app_token_name
¦ ´
,
´ µ
int
¶ ¹
ischeck
º Á
,
Á Â
string
Ã É

time_stamp
Ê Ô
,
Ô Õ
string
Ö Ü
src
Ý à
)
à á
{ 	
Status 
templateCommon !
=" #
new$ '
Status( .
(. /
)/ 0
;0 1
for 
( 
int 
i 
= 
$num 
; 
i 
< 
subcode  '
.' (
Count( -
;- .
i/ 0
++0 2
)2 3
{ 
for 
( 
int 
j 
= 
$num 
; 
j 
< 

send_param (
.( )
Count) .
;. /
j/ 0
++0 2
)2 3
{ 
string 

sqlCommand !
=" #
$str	$ ¢
;
¢ £
using 
( 
SqlConnection (

connection) 3
=4 5
new6 9
SqlConnection: G
(G H

connstringH R
)R S
)S T
{ 
using   
(   

SqlCommand   )
command  * 1
=  2 3
new  4 7

SqlCommand  8 B
(  B C

sqlCommand  C M
,  M N

connection  O Y
)  Y Z
)  Z [
{!! 
Guid""  
pk""! #
=""$ %
Guid""& *
.""* +
NewGuid""+ 2
(""2 3
)""3 4
;""4 5
Subcode$$ #
subcodes$$$ ,
=$$- .
subcode$$/ 6
[$$6 7
i$$7 8
]$$8 9
;$$9 :

Send_param%% "
sp%%# %
=%%& '

send_param%%( 2
[%%2 3
j%%3 4
]%%4 5
;%%5 6
var'' 
data''  $
=''% &

JsonHelper''' 1
.''1 2
	Serialize''2 ;
(''; <
sp''< >
)''> ?
;''? @
Logger(( "
.((" #
Info((# '
(((' (
string((( .
.((. /
Format((/ 5
(((5 6
$str((6 L
,((L M
data((N R
,((R S
subcodes((T \
.((\ ]
subcode((] d
)((d e
)((e f
;((f g
command)) #
.))# $

Parameters))$ .
.)). /
AddWithValue))/ ;
()); <
$str))< F
,))F G
subcodes))H P
.))P Q
subcode))Q X
)))X Y
;))Y Z
command** #
.**# $

Parameters**$ .
.**. /
AddWithValue**/ ;
(**; <
$str**< A
,**A B
pk**C E
)**E F
;**F G
command++ #
.++# $

Parameters++$ .
.++. /
AddWithValue++/ ;
(++; <
$str++< D
,++D E
appid++F K
)++K L
;++L M
command,, #
.,,# $

Parameters,,$ .
.,,. /
AddWithValue,,/ ;
(,,; <
$str,,< E
,,,E F
msg_id,,G M
),,M N
;,,N O
command-- #
.--# $

Parameters--$ .
.--. /
AddWithValue--/ ;
(--; <
$str--< J
,--J K
template_id--L W
)--W X
;--X Y
command.. #
...# $

Parameters..$ .
.... /
AddWithValue../ ;
(..; <
$str..< B
,..B C
url..D G
)..G H
;..H I
command// #
.//# $

Parameters//$ .
.//. /
AddWithValue/// ;
(//; <
$str//< M
,//M N
app_token_name//O ]
)//] ^
;//^ _
command00 #
.00# $

Parameters00$ .
.00. /
AddWithValue00/ ;
(00; <
$str00< F
,00F G
ischeck00H O
)00O P
;00P Q
command11 #
.11# $

Parameters11$ .
.11. /
AddWithValue11/ ;
(11; <
$str11< I
,11I J

time_stamp11K U
)11U V
;11V W
command22 #
.22# $

Parameters22$ .
.22. /
AddWithValue22/ ;
(22; <
$str22< B
,22B C
src22D G
)22G H
;22H I
command33 #
.33# $

Parameters33$ .
.33. /
AddWithValue33/ ;
(33; <
$str33< I
,33I J
data33K O
)33O P
;33P Q

connection44 &
.44& '
Open44' +
(44+ ,
)44, -
;44- .
int77 
count77  %
=77& '
command77( /
.77/ 0
ExecuteNonQuery770 ?
(77? @
)77@ A
;77A B
if88 
(88  
count88  %
>88& '
$num88( )
)88) *
{99 
templateCommon::  .
.::. /
status::/ 5
=::6 7

StatusEnum::8 B
.::B C
success::C J
.::J K
ToString::K S
(::S T
)::T U
;::U V
templateCommon;;  .
.;;. /
msg;;/ 2
=;;3 4
msgEnum;;5 <
.;;< =$
æ¨¡æ¿æ¶æ¯æå¥æå;;= E
.;;E F
ToString;;F N
(;;N O
);;O P
;;;P Q
Logger<<  &
.<<& '
Info<<' +
(<<+ ,
$str<<, S
)<<S T
;<<T U
}>> 
else??  
{@@ 
templateCommonAA  .
.AA. /
statusAA/ 5
=AA6 7

StatusEnumAA8 B
.AAB C
failAAC G
.AAG H
ToStringAAH P
(AAP Q
)AAQ R
;AAR S
templateCommonBB  .
.BB. /
msgBB/ 2
=BB3 4
msgEnumBB5 <
.BB< =$
æ¨¡æ¿æ¶æ¯æå¥å¤±è´¥BB= E
.BBE F
ToStringBBF N
(BBN O
)BBO P
;BBP Q
LoggerCC  &
.CC& '
InfoCC' +
(CC+ ,
$strCC, S
)CCS T
;CCT U
}EE 
}GG 
LoggerHH 
.HH 
InfoHH "
(HH" #
stringHH# )
.HH) *
FormatHH* 0
(HH0 1
$strHH1 @
,HH@ A
jHHB C
+HHC D
$numHHD E
)HHE F
)HHF G
;HHG H
}II 
}ff 
Loggergg 
.gg 
Infogg 
(gg 
stringgg "
.gg" #
Formatgg# )
(gg) *
$strgg* <
,gg< =
igg> ?
+gg? @
$numgg@ A
)ggA B
)ggB C
;ggC D
}hh 
returnoo 
templateCommonoo !
;oo! "
}qq 	
}rr 
}ss ã(
@C:\Users\hanwang\source\repos\WXService\WXService\Global.asax.cs
	namespace

 	
	WXService


 
{ 
public 

class 
Global 
: 
System  
.  !
Web! $
.$ %
HttpApplication% 4
{ 
	protected 
void 
Application_Start (
(( )
object) /
sender0 6
,6 7
	EventArgs8 A
eB C
)C D
{ 	

RouteTable 
. 
Routes 
. 
Add !
(! "
new" %
ServiceRoute& 2
(2 3
$str3 G
,G H
newI L!
WebServiceHostFactoryM b
(b c
)c d
,d e
typeoff l
(l m
wccmemberServicem }
)} ~
)~ 
)	 
;
 

RouteTable 
. 
Routes 
. 
Add !
(! "
new" %
ServiceRoute& 2
(2 3
$str3 J
,J K
newL O!
WebServiceHostFactoryP e
(e f
)f g
,g h
typeofi o
(o p 
UpdatememberService	p 
)
 
)
 
)
 
;
 

RouteTable 
. 
Routes 
. 
Add !
(! "
new" %
ServiceRoute& 2
(2 3
$str3 F
,F G
newH K!
WebServiceHostFactoryL a
(a b
)b c
,c d
typeofe k
(k l
TemplateServicel {
){ |
)| }
)} ~
;~ 

RouteTable 
. 
Routes 
. 
Add !
(! "
new" %
ServiceRoute& 2
(2 3
$str3 A
,A B
newC F!
WebServiceHostFactoryG \
(\ ]
)] ^
,^ _
typeof` f
(f g
QRcodeServiceg t
)t u
)u v
)v w
;w x

RouteTable 
. 
Routes 
. 
Add !
(! "
new" %
ServiceRoute& 2
(2 3
$str3 >
,> ?
new@ C!
WebServiceHostFactoryD Y
(Y Z
)Z [
,[ \
typeof] c
(c d
AQRcodeServiced r
)r s
)s t
)t u
;u v

RouteTable 
. 
Routes 
. 
Add !
(! "
new" %
ServiceRoute& 2
(2 3
$str3 B
,B C
newD G!
WebServiceHostFactoryH ]
(] ^
)^ _
,_ `
typeofa g
(g h
BarcodeServiceh v
)v w
)w x
)x y
;y z
RegisterLog4Net!! 
(!! 
)!! 
;!! 
}"" 	
private## 
void## 
RegisterLog4Net## $
(##$ %
)##% &
{$$ 	
System%% 
.%% 
IO%% 
.%% 
FileInfo%% 
file%% #
=%%$ %
new%%& )
System%%* 0
.%%0 1
IO%%1 3
.%%3 4
FileInfo%%4 <
(%%< =
Server%%= C
.%%C D
MapPath%%D K
(%%K L
$str%%L _
)%%_ `
)%%` a
;%%a b
log4net&& 
.&& 
Config&& 
.&& 
XmlConfigurator&& *
.&&* +
	Configure&&+ 4
(&&4 5
file&&5 9
)&&9 :
;&&: ;
}'' 	
	protected(( 
void(( 
Session_Start(( $
((($ %
object((% +
sender((, 2
,((2 3
	EventArgs((4 =
e((> ?
)((? @
{)) 	
}++ 	
	protected-- 
void-- $
Application_BeginRequest-- /
(--/ 0
object--0 6
sender--7 =
,--= >
	EventArgs--? H
e--I J
)--J K
{.. 	
}00 	
	protected22 
void22 +
Application_AuthenticateRequest22 6
(226 7
object227 =
sender22> D
,22D E
	EventArgs22F O
e22P Q
)22Q R
{33 	
}55 	
	protected77 
void77 
Application_Error77 (
(77( )
object77) /
sender770 6
,776 7
	EventArgs778 A
e77B C
)77C D
{88 	
}:: 	
	protected<< 
void<< 
Session_End<< "
(<<" #
object<<# )
sender<<* 0
,<<0 1
	EventArgs<<2 ;
e<<< =
)<<= >
{== 	
}?? 	
	protectedAA 
voidAA 
Application_EndAA &
(AA& '
objectAA' -
senderAA. 4
,AA4 5
	EventArgsAA6 ?
eAA@ A
)AAA B
{BB 	
}DD 	
}EE 
}FF ù
DC:\Users\hanwang\source\repos\WXService\WXService\IAQRcodeService.cs
	namespace 	
	WXService
 
{ 
[ 
ServiceContract 
] 
public 

	interface 
IAQRcodeService $
{ 
[ 	
OperationContract	 
] 
[ 	
	WebInvoke	 
( 
Method 
= 
$str "
," #
UriTemplate$ /
=0 1
$str2 =
,= >
	BodyStyle? H
=I J
WebMessageBodyStyleK ^
.^ _
WrappedRequest_ m
,m n
RequestFormato |
=} ~
WebMessageFormat	 
.
 
Json
 
,
 
ResponseFormat
 ¤
=
¥ ¦
WebMessageFormat
§ ·
.
· ¸
Json
¸ ¼
)
¼ ½
]
½ ¾
Status 
	AddQRcode 
( 
string 
appid  %
,% &
string' -
subcode. 5
)5 6
;6 7
} 
} ¤	
DC:\Users\hanwang\source\repos\WXService\WXService\IBarcodeService.cs
	namespace		 	
	WXService		
 
{

 
[ 
ServiceContract 
] 
public 

	interface 
IBarcodeService $
{ 
[ 	
OperationContract	 
] 
[ 	
	WebInvoke	 
( 
Method 
= 
$str "
," #
UriTemplate$ /
=0 1
$str2 A
,A B
	BodyStyleC L
=M N
WebMessageBodyStyleO b
.b c
Wrappedc j
,j k
RequestFormatl y
=z {
WebMessageFormat	| 
.
 
Json
 
,
 
ResponseFormat
 ¡
=
¢ £
WebMessageFormat
¤ ´
.
´ µ
Json
µ ¹
)
¹ º
]
º »
List 
< 
BarcodeCommon 
> 
SelectBarcode )
() *
List* .
<. /
SNCommon/ 7
>7 8
SN9 ;
); <
;< =
} 
} 	
CC:\Users\hanwang\source\repos\WXService\WXService\IQRcodeService.cs
	namespace 	
	WXService
 
{ 
[ 
ServiceContract 
] 
public 

	interface 
IQRcodeService #
{ 
[ 	
OperationContract	 
] 
[ 	
	WebInvoke	 
( 
Method 
= 
$str  
,  !
UriTemplate" -
=. /
$str0 >
,> ?
	BodyStyle? H
=I J
WebMessageBodyStyleJ ]
.] ^
WrappedRequest^ l
,l m
RequestFormatn {
=| }
WebMessageFormat	~ 
.
 
Json
 
,
 
ResponseFormat
 ¢
=
£ ¤
WebMessageFormat
¤ ´
.
´ µ
Json
µ ¹
)
¹ º
]
º »
QRcodeCommon 
SelectQRcode !
(! "
string" (
appid) .
,. /
string/ 5
subcode6 =
)= >
;> ?
} 
} É
EC:\Users\hanwang\source\repos\WXService\WXService\ITemplateService.cs
	namespace		 	
	WXService		
 
{

 
[ 
ServiceContract 
] 
public 

	interface 
ITemplateService %
{ 
[ 	
OperationContract	 
] 
[ 	
	WebInvoke	 
( 
Method 
= 
$str !
,! "
	BodyStyle" +
=, -
WebMessageBodyStyle- @
.@ A
WrappedA H
,H I
UriTemplateJ U
=V W
$strX k
,k l
RequestFormatm z
={ |
WebMessageFormat	} 
.
 
Json
 
,
 
ResponseFormat
 ¡
=
¢ £
WebMessageFormat
£ ³
.
³ ´
Json
´ ¸
)
¸ ¹
]
¹ º
Status 
AddTemplateCommon  
(  !
string! '
appid( -
,- .
List. 2
<2 3
Subcode3 :
>: ;
subcode< C
,C D
ListE I
<I J

Send_paramJ T
>T U

send_paramV `
,` a
stringa g
msg_idh n
,n o
stringo u
template_id	v 
,
 
string
 
url
 
,
 
string
 
app_token_name
 ¢
,
¢ £
int
£ ¦
ischeck
§ ®
,
® ¯
string
¯ µ

time_stamp
¶ À
,
À Á
string
Á Ç
src
È Ë
)
Ë Ì
;
Ì Í
} 
} 
IC:\Users\hanwang\source\repos\WXService\WXService\IUpdatememberService.cs
	namespace		 	
	WXService		
 
{

 
[ 
ServiceContract 
] 
public 

	interface  
IUpdatememberService )
{ 
[ 	
OperationContract	 
] 
[ 	
FaultContract	 
( 
typeof 
( 
ServiceError *
)* +
)+ ,
], -
[ 	
	WebInvoke	 
( 
Method 
= 
$str "
," #
UriTemplate$ /
=0 1
$str2 I
,I J
	BodyStyleK T
=U V
WebMessageBodyStyleW j
.j k
WrappedRequestk y
,y z
RequestFormat	{ 
=
 
WebMessageFormat
 
.
 
Json
  
,
  ¡
ResponseFormat
¢ °
=
± ²
WebMessageFormat
³ Ã
.
Ã Ä
Json
Ä È
)
È É
]
É Ê
Status !
UpdateWccMemberCommon $
($ %
string% +
appid, 1
,1 2
string3 9
subcode: A
,A B
stringC I
nameJ N
,N O
stringP V
	telephoneW `
,` a
stringb h
emaili n
,n o
stringp v
regionw }
,} ~
string	 
province
 
,
 
string
 
city
 
,
 
string
 £
systempassword
¤ ²
,
² ³
string
´ º
isAD
» ¿
)
¿ À
;
À Á
} 
} Ò
FC:\Users\hanwang\source\repos\WXService\WXService\IwccmemberService.cs
	namespace 	
	WXService
 
{ 
[ 
ServiceContract 
] 
public 

	interface 
IwccmemberService &
{ 
[ 	
OperationContract	 
] 
[ 	
FaultContract	 
( 
typeof 
( 
ServiceError *
)* +
)+ ,
], -
[ 	
	WebInvoke	 
( 
Method 
= 
$str !
,! "
UriTemplate# .
=/ 0
$str1 E
,E F
	BodyStyleF O
=P Q
WebMessageBodyStyleQ d
.d e
WrappedRequeste s
,t u
RequestFormat	u 
=
 
WebMessageFormat
 
.
 
Json
 
,
 
ResponseFormat
 ª
=
« ¬
WebMessageFormat
­ ½
.
½ ¾
Json
¾ Â
)
Â Ã
]
Ã Ä
Status 
AddWccMemberCommon !
(! "
string" (
appid) .
,. /
string0 6
subcode7 >
,> ?
string? E
customercodeF R
,R S
stringS Y
customertypeZ f
,f g
stringg m
namen r
,r s
strings y
	telephone	z 
,
 
string
 
email
 
,
 
string
 
region
 
,
 
string
 ¥
province
¦ ®
,
® ¯
string
¯ µ
city
¶ º
,
º »
string
» Á
systemaccount
Â Ï
,
Ï Ð
string
Ð Ö
systempassword
× å
,
å æ
string
æ ì
isAD
í ñ
)
ñ ò
;
ò ó
} 
} ÷
LC:\Users\hanwang\source\repos\WXService\WXService\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str $
)$ %
]% &
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str &
)& '
]' (
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *¿
AC:\Users\hanwang\source\repos\WXService\WXService\QRcodeCommon.cs
	namespace 	
	WXService
 
{ 
[		 
DataContract		 
]		 
public

 

class

 
QRcodeCommon

 
{ 
[ 	

DataMember	 
] 
public 
string 
qcodeurl 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
string 
msg 
{ 
get 
;  
set! $
;$ %
}& '
} 
} »
FC:\Users\hanwang\source\repos\WXService\WXService\QRcodeService.svc.cs
	namespace

 	
	WXService


 
{ 
public 

class 
QRcodeService 
:  
IQRcodeService! /
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
QRcodeServiceJ W
)W X
)X Y
;Y Z
public 
QRcodeCommon 
SelectQRcode (
(( )
string) /
appid0 5
,5 6
string6 <
subcode= D
)D E
{ 	
Logger 
. 
Debug 
( 
$str K
)K L
;L M
Logger 
. 
Debug 
( 
string 
.  
Format  &
(& '
$str' L
,L M
subcodeN U
,U V
appidV [
)[ \
)\ ]
;] ^
try 
{ 
QRcodeCommon 
qrcodecommon )
=* +
	qrcodesql, 5
.5 6
SelectQRcode6 B
(B C
appidC H
,H I
subcodeI P
)P Q
;Q R
return 
qrcodecommon #
;# $
} 
catch 
( 
	Exception 
ex 
)  
{ 
QRcodeCommon   
qrcodecommon   )
=  * +
new  , /
QRcodeCommon  0 <
(  < =
)  = >
;  > ?
Logger!! 
.!! 
Error!! 
(!! 
$str!! 6
+!!7 8
ex!!9 ;
.!!; <

StackTrace!!< F
)!!F G
;!!G H
var"" 
error"" 
="" 
new"" 
ServiceError""  ,
("", -

BaseConfig""- 7
.""7 8
ServiceCode""8 C
.""C D
OTHER_ERROR""D O
.""O P
ToString""P X
(""X Y
)""Y Z
,""Z [
$str##  .
,##. /
ex##0 2
.##2 3
Message##3 :
)##: ;
;##; <
qrcodecommon$$ 
.$$ 
msg$$  
=$$! "
error$$# (
.$$( )
ErrorMessage$$) 5
;$$5 6
if%% 
(%% 
qrcodecommon%%  
.%%  !
msg%%! $
==%%% '
$str%%( _
)%%_ `
{&& 
qrcodecommon''  
.''  !
msg''! $
=''% &
$str''' 8
;''8 9
}(( 
qrcodecommon)) 
.)) 
qcodeurl)) %
=))& '
null))( ,
;)), -
return** 
qrcodecommon** #
;**# $
throw++ 
new++ 
FaultException++ (
<++( )
ServiceError++) 5
>++5 6
(++6 7
error++7 <
,++< =
error++> C
.++C D
ErrorMessage++D P
)++P Q
;++Q R
}.. 
}// 	
}00 
}11 ó
MC:\Users\hanwang\source\repos\WXService\WXService\RestAuthorizationManager.cs
	namespace		 	
	WXService		
 
{

 
public 

class $
RestAuthorizationManager )
:* +'
ServiceAuthorizationManager, G
{ 
	protected 
override 
bool 
CheckAccessCore  /
(/ 0
OperationContext0 @
operationContextA Q
)Q R
{ 	
var 

authHeader 
= 
WebOperationContext 0
.0 1
Current1 8
.8 9
IncomingRequest9 H
.H I
HeadersI P
[P Q
$strQ `
]` a
;a b
if 
( 
( 

authHeader 
!= 
null #
)# $
&&% '
(( )

authHeader) 3
!=4 6
string7 =
.= >
Empty> C
)C D
)D E
{ 
var 
svcCredentials "
=# $
System% +
.+ ,
Text, 0
.0 1
ASCIIEncoding1 >
.> ?
ASCII? D
. 
	GetString 
( 
Convert &
.& '
FromBase64String' 7
(7 8

authHeader8 B
.B C
	SubstringC L
(L M
$numM N
)N O
)O P
)P Q
. 
Split 
( 
$char 
) 
;  
var 
user 
= 
new 
{ 
Name 
= 
svcCredentials )
[) *
$num* +
]+ ,
,, -
Password 
= 
svcCredentials -
[- .
$num. /
]/ 0
} 
; 
if 
( 
( 
user 
. 
Name 
== !
$str" +
&&, .
user/ 3
.3 4
Password4 <
=== ?
$str@ R
)R S
)S T
{ 
return!! 
true!! 
;!!  
}"" 
else## 
{$$ 
return&& 
false&&  
;&&  !
}'' 
}(( 
else)) 
{** 
WebOperationContext,, #
.,,# $
Current,,$ +
.,,+ ,
OutgoingResponse,,, <
.,,< =
Headers,,= D
.,,D E
Add,,E H
(,,H I
$str,,I v
),,v w
;,,w x
throw.. 
new.. 
WebFaultException.. +
(..+ ,
HttpStatusCode.., :
...: ;
Unauthorized..; G
)..G H
;..H I
}// 
}00 	
}11 
}22 ä
=C:\Users\hanwang\source\repos\WXService\WXService\SNCommon.cs
	namespace 	
	WXService
 
{ 
[		 
DataContract		 
]		 
public

 

class

 
SNCommon

 
{ 
[ 	

DataMember	 
] 
public 
string 
SN 
{ 
get 
; 
set  #
;# $
}% &
} 
} Ì
?C:\Users\hanwang\source\repos\WXService\WXService\Send_param.cs
	namespace 	
	WXService
 
{ 
[ 
DataContract 
] 
public 

class 

Send_param 
{ 
[		 	

DataMember			 
]		 
public

 
string

 
keyword1

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
[ 	

DataMember	 
] 
public 
string 
keyword2 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

DataMember	 
] 
public 
string 
remark 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	

DataMember	 
] 
public 
string 
first 
{ 
get !
;! "
set# &
;& '
}( )
public 
class 
Send_paramList #
{ 	
[ 

DataMember 
] 
public 
List 
< 

Send_param !
>! "
send_paramlist# 1
{2 3
get4 7
;7 8
set9 <
;< =
}> ?
} 	
} 
} 
AC:\Users\hanwang\source\repos\WXService\WXService\ServiceError.cs
	namespace 	
	WXService
 
{ 
[		 
DataContract		 
]		 
public

 

class

 
ServiceError

 
{ 
[ 	

DataMember	 
] 
public 
string 
ServiceCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	

DataMember	 
] 
public 
string 
	Operation 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	

DataMember	 
] 
public 
string 
ErrorMessage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
Invaliduser !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Invalidparty "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 

Invalidtag  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
ServiceError 
( 
string "
serviceCode# .
,. /
string0 6
	operation7 @
,@ A
stringB H
messageI P
)P Q
{ 	
ServiceCode 
= 
serviceCode %
;% &
	Operation 
= 
	operation !
;! "
ErrorMessage 
= 
message "
;" #
} 	
public 
ServiceError 
( 
string "
serviceCode# .
,. /
string0 6
	operation7 @
,@ A
stringB H
messageI P
,P Q
stringR X
invaliduserY d
,d e
stringf l
invalidpartym y
,y z
string	{ 

invalidtag
 
)
 
{ 	
ServiceCode   
=   
serviceCode   %
;  % &
	Operation!! 
=!! 
	operation!! !
;!!! "
ErrorMessage"" 
="" 
message"" "
;""" #
Invaliduser$$ 
=$$ 
invaliduser$$ %
;$$% &
Invalidparty%% 
=%% 
invalidparty%% '
;%%' (

Invalidtag&& 
=&& 

invalidtag&& #
;&&# $
}'' 	
}(( 
})) ±
;C:\Users\hanwang\source\repos\WXService\WXService\Status.cs
	namespace 	
	WXService
 
{ 
[		 
DataContract		 
]		 
public

 

class

 
Status

 
{ 
[ 	

DataMember	 
] 
public 
string 
status 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	

DataMember	 
] 
public 
string 
msg 
{ 
get 
;  
set! $
;$ %
}& '
} 
} 
?C:\Users\hanwang\source\repos\WXService\WXService\StatusEnum.cs
	namespace 	
	WXService
 
{ 
public 

enum 

StatusEnum 
{		 
success

 
,

 
fail 
} 
public 

enum 
msgEnum 
{ '
ä¼åä¸­é´è¡¨æå¥æå 
, !
äºç»´ç æå¥æå 
, $
æ¨¡æ¿æ¶æ¯æå¥æå 
, '
ä¼åä¸­é´è¡¨æå¥å¤±è´¥ 
, !
äºç»´ç æå¥å¤±è´¥ 
, $
æ¨¡æ¿æ¶æ¯æå¥å¤±è´¥ 
, <
0ä¼åä¸­é´è¡¨åäºç»´ç ä¸­é´è¡¨æå¥æå 
, <
0ä¼åä¸­é´è¡¨åäºç»´ç ä¸­é´è¡¨æå¥å¤±è´¥ 
, 
ä¼åä¿®æ¹æå 
, 
ä¼åä¿®æ¹å¤±è´¥ 
} 
} £!
HC:\Users\hanwang\source\repos\WXService\WXService\TemplateService.svc.cs
	namespace

 	
	WXService


 
{ 
public 

class 
TemplateService  
:! "
ITemplateService# 3
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
TemplateServiceJ Y
)Y Z
)Z [
;[ \
public 
Status 
AddTemplateCommon (
(( )
string) /
appid0 5
,5 6
List6 :
<: ;
Subcode; B
>B C
subcodeD K
,K L
ListM Q
<Q R

Send_paramR \
>\ ]

send_param^ h
,h i
stringj p
msg_idq w
,w x
stringy 
template_id
 
,
 
string
 
url
 
,
 
string
 
app_token_name
  ®
,
® ¯
int
° ³
ischeck
´ »
,
» ¼
string
½ Ã

time_stamp
Ä Î
,
Î Ï
string
Ð Ö
src
× Ú
)
Ú Û
{ 	
Logger 
. 
Debug 
( 
$str N
)N O
;O P
Logger 
. 
Debug 
( 
string 
.  
Format  &
(& '
$str	' ¯
,
¯ °
subcode
± ¸
,
¸ ¹

send_param
º Ä
,
Ä Å
msg_id
Å Ë
,
Ë Ì
template_id
Ì ×
,
× Ø
url
Ø Û
,
Û Ü
app_token_name
Ü ê
,
ê ë
ischeck
ë ò
,
ò ó

time_stamp
ó ý
,
ý þ
src
þ 
)
 
)
 
;
 
try 
{ 
Status 
template 
=  !
templatesql" -
.- .
AddTemplateDetail. ?
(? @
appid@ E
,E F
subcodeF M
,M N

send_paramO Y
,Y Z
msg_id[ a
,a b
template_idb m
,m n
urln q
,q r
app_token_name	r 
,
 
ischeck
 
,
 

time_stamp
 
,
 
src
 
)
 
;
 
return 
template 
;  
} 
catch 
( 
	Exception 
ex 
)  
{ 
Status 
status 
= 
new  #
Status$ *
(* +
)+ ,
;, -
Logger 
. 
Error 
( 
$str <
+= >
ex? A
.A B

StackTraceB L
)L M
;M N
var 
error 
= 
new 
ServiceError  ,
(, -

BaseConfig- 7
.7 8
ServiceCode8 C
.C D
OTHER_ERRORD O
.O P
ToStringP X
(X Y
)Y Z
,Z [
$str  4
,4 5
ex6 8
.8 9
Message9 @
)@ A
;A B
status   
.   
msg   
=   
error   "
.  " #
ErrorMessage  # /
;  / 0
status!! 
.!! 
status!! 
=!! 

StatusEnum!!  *
.!!* +
fail!!+ /
.!!/ 0
ToString!!0 8
(!!8 9
)!!9 :
;!!: ;
return"" 
status"" 
;"" 
throw## 
new## 
FaultException## (
<##( )
ServiceError##) 5
>##5 6
(##6 7
error##7 <
,##< =
error##> C
.##C D
ErrorMessage##D P
)##P Q
;##Q R
}$$ 
}%% 	
}&& 
}'' Ë 
LC:\Users\hanwang\source\repos\WXService\WXService\UpdatememberService.svc.cs
	namespace

 	
	WXService


 
{ 
public 

class 
UpdatememberService $
:% & 
IUpdatememberService' ;
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
UpdatememberServiceJ ]
)] ^
)^ _
;_ `
public 
Status !
UpdateWccMemberCommon +
(+ ,
string, 2
appid3 8
,8 9
string: @
subcodeA H
,H I
stringJ P
nameQ U
,U V
stringW ]
	telephone^ g
,g h
stringi o
emailp u
,u v
stringw }
region	~ 
,
 
string
 
province
 
,
 
string
 
city
 ¢
,
¢ £
string
¤ ª
systempassword
« ¹
,
¹ º
string
» Á
isAD
Â Æ
)
Æ Ç
{ 	
Logger 
. 
Debug 
( 
$str [
)[ \
;\ ]
Logger 
. 
Debug 
( 
string 
.  
Format  &
(& '
$str	' ³
,
³ ´
appid
µ º
,
º »
subcode
¼ Ã
,
Ã Ä
name
Å É
,
É Ê
	telephone
Ë Ô
,
Ô Õ
email
Ö Û
,
Û Ü
region
Ý ã
,
ã ä
province
å í
,
í î
city
ï ó
,
ó ô
systempassword
õ 
,
 
isAD
 
)
 
)
 
;
 
try 
{ 
Status 
umember 
=  
Updatememsql! -
.- .
Updatememcommon. =
(= >
appid> C
,C D
subcodeE L
,L M
nameN R
,R S
	telephoneT ]
,] ^
email_ d
,d e
regionf l
,l m
provincen v
,v w
cityx |
,| }
systempassword	~ 
,
 
isAD
 
)
 
;
 
return 
umember 
; 
} 
catch 
( 
	Exception 
ex 
)  
{   
Status!! 
status!! 
=!! 
new!!  #
Status!!$ *
(!!* +
)!!+ ,
;!!, -
Logger"" 
."" 
Error"" 
("" 
$str"" 9
+"": ;
ex""< >
.""> ?

StackTrace""? I
)""I J
;""J K
var## 
error## 
=## 
new## 
ServiceError##  ,
(##, -

BaseConfig##- 7
.##7 8
ServiceCode##8 C
.##C D
OTHER_ERROR##D O
.##O P
ToString##P X
(##X Y
)##Y Z
,##Z [
$str$$  1
,$$1 2
ex$$3 5
.$$5 6
Message$$6 =
)$$= >
;$$> ?
status%% 
.%% 
msg%% 
=%% 
error%% "
.%%" #
ErrorMessage%%# /
;%%/ 0
status&& 
.&& 
status&& 
=&& 

StatusEnum&&  *
.&&* +
fail&&+ /
.&&/ 0
ToString&&0 8
(&&8 9
)&&9 :
;&&: ;
return'' 
status'' 
;'' 
throw(( 
new(( 
FaultException(( (
<((( )
ServiceError(() 5
>((5 6
(((6 7
error((7 <
,((< =
error((> C
.((C D
ErrorMessage((D P
)((P Q
;((Q R
}** 
}++ 	
}-- 
}.. 	
ZC:\Users\hanwang\source\repos\WXService\WXService\WcfReadEntityBodyModeWorkaroundModule.cs
	namespace 	
	WXService
 
{ 
public 

class 1
%WcfReadEntityBodyModeWorkaroundModule 6
:7 8
IHttpModule9 D
{ 
public 
void 
Dispose 
( 
) 
{ 	
} 	
public 
void 
Init 
( 
HttpApplication (
context) 0
)0 1
{ 	
context 
. 
BeginRequest  
+=! # 
context_BeginRequest$ 8
;8 9
} 	
void	  
context_BeginRequest "
(" #
Object# )
sender* 0
,0 1
	EventArgs2 ;
e< =
)= >
{ 	
Stream!! 
stream!! 
=!! 
(!! 
sender!! #
as!!$ &
HttpApplication!!' 6
)!!6 7
.!!7 8
Request!!8 ?
.!!? @
InputStream!!@ K
;!!K L
}"" 	
}## 
}$$ 
FC:\Users\hanwang\source\repos\WXService\WXService\common\JsonHelper.cs
	namespace

 	
	WXService


 
.

 
common

 
{ 
public 

class 

JsonHelper 
{ 
public 
static 
List 
< 
T 
> 
JsonStringToList .
<. /
T/ 0
>0 1
(1 2
string2 8
jsonStr9 @
)@ A
{ 	
var 

serializer 
= 
new   
JavaScriptSerializer! 5
(5 6
)6 7
;7 8
var 
objs 
= 

serializer !
.! "
Deserialize" -
<- .
List. 2
<2 3
T3 4
>4 5
>5 6
(6 7
jsonStr7 >
)> ?
;? @
return 
objs 
; 
} 	
public 
static 
string 
	Serialize &
(& '
object' -
o. /
)/ 0
{ 	
var 
sb 
= 
new 
StringBuilder &
(& '
)' (
;( )
var 
json 
= 
new  
JavaScriptSerializer /
(/ 0
)0 1
;1 2
json 
. 
	Serialize 
( 
o 
, 
sb  
)  !
;! "
return 
sb 
. 
ToString 
( 
)  
;  !
} 	
public 
static 
T 
Deserialize #
<# $
T$ %
>% &
(& '
string' -
json. 2
)2 3
{ 	
var 
obj 
= 
	Activator 
.  
CreateInstance  .
<. /
T/ 0
>0 1
(1 2
)2 3
;3 4
using 
( 
var 
ms 
= 
new 
MemoryStream  ,
(, -
Encoding- 5
.5 6
UTF86 :
.: ;
GetBytes; C
(C D
jsonD H
)H I
)I J
)J K
{ 
var   

serializer   
=    
new  ! $&
DataContractJsonSerializer  % ?
(  ? @
obj  @ C
.  C D
GetType  D K
(  K L
)  L M
)  M N
;  N O
return!! 
(!! 
T!! 
)!! 

serializer!! $
.!!$ %

ReadObject!!% /
(!!/ 0
ms!!0 2
)!!2 3
;!!3 4
}"" 
}## 	
public%% 
static%% 
string%% !
ConvertJobjecToString%% 2
(%%2 3

Newtonsoft%%3 =
.%%= >
Json%%> B
.%%B C
Linq%%C G
.%%G H
JToken%%H N
j%%O P
)%%P Q
{&& 	
string'' 
result'' 
='' 
j'' 
==''  
null''! %
?''& '
string''( .
.''. /
Empty''/ 4
:''5 6
j''7 8
.''8 9
ToString''9 A
(''A B
)''B C
;''C D
return(( 
result(( 
;(( 
})) 	
}** 
}++ 
@C:\Users\hanwang\source\repos\WXService\WXService\subcodelist.cs
	namespace 	
	WXService
 
{ 
[ 
DataContract 
] 
public 

class 
Subcode 
{ 
[		 	

DataMember			 
]		 
public

 
string

 
subcode

 
{

 
get

  #
;

# $
set

$ '
;

' (
}

( )
} 
[ 
DataContract 
] 
public 

class 
SubcodeList 
{ 
[ 	

DataMember	 
] 
public 
List 
< 
Subcode 
> 
subcodes %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} $
IC:\Users\hanwang\source\repos\WXService\WXService\wccmemberService.svc.cs
	namespace 	
	WXService
 
{ 
public 

class 
wccmemberService !
:" #
IwccmemberService$ 5
{ 
private 
readonly 
static 
ILog  $
Logger% +
=, -

LogManager. 8
.8 9
	GetLogger9 B
(B C
typeofC I
(I J
wccmemberServiceJ Z
)Z [
)[ \
;\ ]
public 
Status 
AddWccMemberCommon (
(( )
string) /
appid0 5
,5 6
string7 =
subcode> E
,E F
stringG M
customercodeN Z
,Z [
string\ b
customertypec o
,o p
stringq w
namex |
,| }
string	~ 
	telephone
 
,
 
string
 
email
 
,
 
string
 ¤
region
¥ «
,
« ¬
string
­ ³
province
´ ¼
,
¼ ½
string
¾ Ä
city
Å É
,
É Ê
string
Ë Ñ
systemaccount
Ò ß
,
ß à
string
á ç
systempassword
è ö
,
ö ÷
string
ø þ
isAD
ÿ 
)
 
{ 	
Logger 
. 
Debug 
( 
$str [
)[ \
;\ ]
Logger 
. 
Debug 
( 
string 
.  
Format  &
(& '
$str	' ç
,
ç è
appid
è í
,
í î
subcode
î õ
,
õ ö
customercode
÷ 
,
 
customertype
 
,
 
name
 
,
 
	telephone
 ¢
,
¢ £
email
¤ ©
,
© ª
region
« ±
,
± ²
province
² º
,
º »
city
¼ À
,
À Á
systemaccount
Â Ï
,
Ï Ð
systempassword
Ñ ß
,
ß à
isAD
à ä
)
ä å
)
å æ
;
æ ç
try'' 
{(( 
Status++ 
	wccmember++  
=++! "
SQL++# &
.++& '
AddWccMemberdetail++' 9
(++9 :
appid++: ?
,++? @
subcode++A H
,++H I
customercode++J V
,++V W
customertype++X d
,++d e
name++f j
,++j k
	telephone++l u
,++u v
email++w |
,++| }
region	++~ 
,
++ 
province
++ 
,
++ 
city
++ 
,
++ 
systemaccount
++ £
,
++£ ¤
systempassword
++¥ ³
,
++³ ´
isAD
++µ ¹
)
++¹ º
;
++º »
return66 
	wccmember66  
;66  !
}77 
catch88 
(88 
	Exception88 
ex88 
)88  
{99 
Status:: 
status:: 
=:: 
new::  #
Status::$ *
(::* +
)::+ ,
;::, -
Logger;; 
.;; 
Error;; 
(;; 
$str;; <
+;;= >
ex;;? A
.;;A B

StackTrace;;B L
);;L M
;;;M N
var<< 
error<< 
=<< 
new<< 
ServiceError<<  ,
(<<, -

BaseConfig<<- 7
.<<7 8
ServiceCode<<8 C
.<<C D
OTHER_ERROR<<D O
.<<O P
ToString<<P X
(<<X Y
)<<Y Z
,<<Z [
$str==  4
,==4 5
ex==6 8
.==8 9
Message==9 @
)==@ A
;==A B
status>> 
.>> 
msg>> 
=>> 
error>> "
.>>" #
ErrorMessage>># /
;>>/ 0
status?? 
.?? 
status?? 
=?? 

StatusEnum??  *
.??* +
fail??+ /
.??/ 0
ToString??0 8
(??8 9
)??9 :
;??: ;
return@@ 
status@@ 
;@@ 
throwAA 
newAA 
FaultExceptionAA (
<AA( )
ServiceErrorAA) 5
>AA5 6
(AA6 7
errorAA7 <
,AA< =
errorAA> C
.AAC D
ErrorMessageAAD P
)AAP Q
;AAQ R
}CC 
}DD 	
}EE 
}FF 